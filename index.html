<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>fyle-qbo-app documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
	   <link rel="stylesheet" href="./styles/style.css">
        <link rel="stylesheet" href="./styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="./" class="navbar-brand">fyle-qbo-app documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content getting-started">
                   <div class="content-data">

<h1 id="fyle-qbo-app">Fyle QBO App</h1>
<p>Frontend Repository for Fyle &lt;&gt; Quickbooks Online Integration</p>
<h2 id="documentation">Documentation</h2>
<p>Please refer this link to find the <a href="https://fylein.github.io/fyle-qbo-app-2">documentation</a> of the project.</p>
<h2 id="local-development-setup">Local development setup</h2>
<h3 id="setup---1-recommended">Setup - 1 (Recommended)</h3>
<p>Follow instructions mentioned in <a href="https://github.com/fylein/fyle-integrations-central/">Integrations Central</a></p>
<h3 id="setup---2">Setup - 2</h3>
<ul>
<li><p>Install dependencies</p>
<div><pre class="line-numbers"><code class="language-bash">npm install</code></pre></div></li>
<li><p>Copy <code>environment.json</code> from integrations-central/ and add it to <code>src/environments</code></p>
<div><pre class="line-numbers"><code class="language-bash">cp ../fyle-integrations-central/app-secrets/qbo-app-2/environment.json src/environments/environment.json</code></pre></div></li>
<li><p>Run app</p>
<div><pre class="line-numbers"><code class="language-bash">npm start</code></pre></div></li>
</ul>
<h2 id="running-end-to-end-tests-on-local">Running End to End Tests on local</h2>
<h3 id="setup-org-to-test">Setup Org to test</h3>
<p><b>Note:</b> <em>All the steps mentioned in this section are one time activity</em></p>
<ul>
<li><p>It would be very easy if we use this org for running tests since we have pre populated data in Fyle to run tests</p>
<div><pre class="line-numbers"><code class="language-none">Email: ashwin.t&#64;fyle.in | Org Name: Fyle For QBO Angular Tests - Github Action</code></pre></div></li>
<li><p>Login to this org on <a href="http:localhost:4200">local</a> once and complete QBO OAuth connection (Connect to <code>Sandbox Company_US_2</code> company in QBO)</p>
</li>
<li><p>Update values for these variables in <code>e2e_tests</code> key in <code>environment.json</code> (present in <code>src/environments</code>) -
<em>(Copy all these values from local storage)</em>
<b>Note:</b> <em>Copy refresh_token from <code>user</code> key in local storage</em></p>
<div><pre class="line-numbers"><code class="language-none">    &quot;workspace_id&quot;: &quot;&quot;,
    &quot;refresh_token&quot;: &quot;&quot;,
    &quot;org_id&quot;: &quot;&quot;</code></pre></div></li>
<li><p>Create an sql function to partially setup an org to run tests -</p>
<div><pre class="line-numbers"><code class="language-bash"># bash into database
\i ../fyle-qbo-api/sql/functions/e2e-test-setup-workspace-local.sql;</code></pre></div></li>
<li><p>Partially reset the org using the sql script we created -</p>
<div><pre class="line-numbers"><code class="language-sql">select reset_workspace_e2e(&lt;workspace_id_goes_here&gt;);</code></pre></div></li>
</ul>
<h3 id="helper-commands">Helper commands</h3>
<ul>
<li><p>Make sure the app and api is up and running</p>
</li>
<li><p>To open Cypress UI and run end to end test spec wise, use this command -</p>
<div><pre class="line-numbers"><code class="language-bash">npm run cypress_open</code></pre></div><p>  <b>Note</b>: <em>Running this command will decrease the code coverage since we run 1 test at a time</em></p>
</li>
<li><p>To run all end to end tests and update code coverage, use this command -</p>
<div><pre class="line-numbers"><code class="language-bash">npm run cypress_run</code></pre></div><p>  <b>Note</b>: <em>Running this command will update the code coverage</em>
<em>This step is highly recommended when you write a new end to end test</em></p>
</li>
<li><p>To reset the org to initial data, use the <code>reset_workspace_e2e()</code> sql function and re run tests</p>
</li>
</ul>
<h3 id="bonus-points">Bonus points</h3>
<ul>
<li>Execute tests in the folder and files in a sequence as it present.
  For example, if we try to run <code>cypress/e2e/002-journeys/002-update-configuration.cy.js</code> initially without running <code>cypress/e2e/002-journeys/001-onboarding.cy.js</code>, the test will fail.</li>
<li>Name the test file in the sequence followed and place them in the right folder. Cypress tests gets executed in an alphabetical manner, as of now.</li>
<li>If we are writing a test that represent an user journey, create the test in the journey folder. Or if it represents a micro action, place it in the micro-actions folder. If we add a new feature and wanted to cover all possible scenarios to write a test, add it to the feature folder, along with month and year.</li>
</ul>
<h3 id="end-to-end-tests-on-github">End to End Tests on Github</h3>
<ul>
<li>End to End tests runs on all PRs, after the PR is approved. Only if all tests pass, contributor will be able to merge it to master. This happens against the staging environment. We&#39;ll receive a comment in the PR about the run status and code coverage summary.</li>
<li>End to End tests against production environment will run every Tuesday and Thursday at 2pm.</li>
<li>Manually if we wanted to trigger end to end tests, we can make use of manual <a href="https://github.com/fylein/fyle-qbo-app-2/actions/workflows/manual-e2e.yml">github action</a> and run it against Staging/Production environment with the specified branch and click on <code>Run Workflow</code> button.</li>
<li>Once the tests are completed, we&#39;ll receive a message on slack with the summary and screen recordings incase the test fails.</li>
<li>Consider the following scenario for example -<ul>
<li>Developer raised a PR -&gt; reviewer approved it -&gt; e2e failed -&gt; dev fixed the broken test</li>
<li>Now, to trigger the action, the developer should manually trigger the github action by creating a label named <code>run e2e tests</code> in the PR.</li>
<li>Dev will be able to un label and label them multiple times to trigger e2e tests.
  <b>Note</b>: <em>Labels can be found in the right side section where Reviewer, Assignee are maintained</em></li>
</ul>
</li>
</ul>
<p><em>For more detailed notes, please to check the Notion doc about End to End Tests on QBO App</em></p>





















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 0;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'getting-started';
            var COMPODOC_CURRENT_PAGE_URL = 'index.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="./js/libs/custom-elements.min.js"></script>
       <script src="./js/libs/lit-html.js"></script>

       <script src="./js/menu-wc.js" defer></script>
       <script nomodule src="./js/menu-wc_es5.js" defer></script>

       <script src="./js/libs/bootstrap-native.js"></script>

       <script src="./js/libs/es6-shim.min.js"></script>
       <script src="./js/libs/EventDispatcher.js"></script>
       <script src="./js/libs/promise.min.js"></script>
       <script src="./js/libs/zepto.min.js"></script>

       <script src="./js/compodoc.js"></script>

       <script src="./js/tabs.js"></script>
       <script src="./js/menu.js"></script>
       <script src="./js/libs/clipboard.min.js"></script>
       <script src="./js/libs/prism.js"></script>
       <script src="./js/sourceCode.js"></script>
          <script src="./js/search/search.js"></script>
          <script src="./js/search/lunr.min.js"></script>
          <script src="./js/search/search-lunr.js"></script>
          <script src="./js/search/search_index.js"></script>
       <script src="./js/lazy-load-graphs.js"></script>


    </body>
</html>
