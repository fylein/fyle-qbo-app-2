<div class="mapping">
  <app-mapping-header-section [mappingStats]="mappingStats" [totalCardActive]="totalCardActive" [sourceType]="sourceType" (mappingCardUpdateHandler)="mappingCardUpdateHandler($event)"></app-mapping-header-section>

  <div class="mapping--core-section">
    <div class="mapping--core-section-content">
      <app-mapping-filter [form]="form" [searchTerm]="(sourceType | titlecase | snakeCaseToSpaceCase) + ' name'" (mappingFilterUpdateHandler)="getMappings()"></app-mapping-filter>

      <div *ngIf="!isLoading" class="mapping--table">
        <app-mapping-table [mappings]="mappings" [sourceType]="mappingSetting.source_field" [destinationType]="mappingSetting.destination_field" [qboData]="qboData" [mappingForm]="mappingForm" (mappingSaveHandler)="save($event)"></app-mapping-table>

        <app-zero-state-with-illustration [page]="'mapping'" [form]="form" [data]="mappings" [searchTerm]="(sourceType | titlecase | snakeCaseToSpaceCase) + ' name'"></app-zero-state-with-illustration>
      </div>

      <!-- shimmers -->
      <div *ngIf="isLoading">
        <table class="shimmers skeleton-loader-list-view--table">
          <tr fxFlex="row" fxLayoutAlign="space-between center">
            <th><span class="skeleton-loader-list-view--fyle">{{ sourceType | titlecase | snakeCaseToSpaceCase }} in Fyle</span></th>
            <th>
              <span class="skeleton-loader-list-view--qbo">{{ mappingSetting?.destination_field | titlecase | snakeCaseToSpaceCase }} in QBO</span>
            </th>
            <th><span class="skeleton-loader-list-view--state">State</span></th>
          </tr>
        </table>
        <div *ngFor="let i of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]" fxLayout="row" fxLayoutAlign="start center" class="skeleton-loader-list-view--row-box">
          <div class="skeleton-loader-list-view--init-box-section">
            <div class="shimmers skeleton-loader-list-view--init-box"></div>
          </div>
          <div class="skeleton-loader-list-view--end-box-section">
            <div class="shimmers skeleton-loader-list-view--end-box"></div>
          </div>
        </div>
      </div>
      <!-- shimmers -->

      <app-paginator *ngIf="mappings.filteredData.length" [totalCount]="totalCount" [limit]="limit" [offset]="offset" (pageChangeEvent)="getMappings($event)"></app-paginator>
    </div>
  </div>
</div>
